<Window x:Class="SaleManagerApp.Views.CreateIngredientView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:viewmodels="clr-namespace:SaleManagerApp.ViewModels" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
         Title="Thêm nguyên liệu"
        Width="520"
        Height="720"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F5F5F5">

    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ================= HEADER ================= -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Thêm nguyên liệu mới"
                       FontSize="22"
                       FontWeight="SemiBold"/>
            <TextBlock Text="Thiết lập thông tin nguyên liệu dùng trong kho"
                       Foreground="#777"
                       Margin="0,6,0,0"/>
        </StackPanel>

        <!-- ================= FORM ================= -->
        <ScrollViewer Grid.Row="1">
            <StackPanel>

                <!-- NAME -->
                <TextBlock Text="Tên nguyên liệu *"/>
                <TextBox Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}"
                         Height="40"
                         Margin="0,6,0,16"/>

                <!-- UNIT -->
                <TextBlock Text="Đơn vị *"/>
                <TextBox Text="{Binding Unit, UpdateSourceTrigger=PropertyChanged}"
                         Height="40"
                         Margin="0,6,0,16"
                         ToolTip="Ví dụ: kg, g, lít, chai, hộp"/>

                <!-- FILTER/GROUP -->
                <TextBlock Text="Nhóm nguyên liệu *"/>
                <ComboBox ItemsSource="{Binding Filters}"
                          SelectedItem="{Binding Filter}"
                          Height="40"
                          Margin="0,6,0,16"/>

                <!-- MIN QUANTITY -->
                <TextBlock Text="Ngưỡng cảnh báo tồn kho"/>
                <TextBox Text="{Binding MinQuantity, UpdateSourceTrigger=PropertyChanged}"
                         Height="40"
                         Margin="0,6,0,16"
                         ToolTip="Hệ thống sẽ cảnh báo khi số lượng dưới ngưỡng này"/>

                <!-- MAX STORAGE DAYS -->
                <TextBlock Text="Số ngày lưu trữ tối đa *"/>
                <TextBox Text="{Binding MaxStorageDays, UpdateSourceTrigger=PropertyChanged}"
                         Height="40"
                         Margin="0,6,0,16"
                         ToolTip="Số ngày từ khi nhập đến khi hết hạn"/>

                <!-- IMAGE -->
                <TextBlock Text="Ảnh nguyên liệu"/>
                <StackPanel Orientation="Horizontal" Margin="0,6,0,0">

                    <Border Width="100"
                            Height="100"
                            CornerRadius="12"
                            Background="#EEE"
                            Margin="0,0,16,0">
                        <Image Source="{Binding ImagePreview}"
                               Stretch="UniformToFill"/>
                    </Border>

                    <Button Content="Chọn ảnh"
                            Width="120"
                            Height="36"
                            Command="{Binding SelectImageCommand}"/>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>

        <!-- ================= ACTIONS ================= -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,20,0,0">

            <Button Content="Hủy"
                    Width="100"
                    Height="40"
                    Margin="0,0,12,0"
                    Command="{Binding CancelCommand}"/>

            <Button Content="Lưu"
                    Width="120"
                    Height="40"
                    Background="#5B7FFF"
                    Foreground="White"
                    BorderThickness="0"
                    FontWeight="SemiBold"
                    Command="{Binding SaveCommand}"/>
        </StackPanel>
    </Grid>
</Window>